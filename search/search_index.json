{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Flock You","text":"<p>Professional surveillance camera detection firmware for the Oui-Spy device available at colonelpanic.tech</p>"},{"location":"#what-is-flock-you","title":"What is Flock You?","text":"<p>Flock You is an advanced ESP32-S3 firmware designed to detect Flock Safety ALPR cameras, Raven gunshot detectors, and other surveillance devices using multiple detection methodologies. It provides real-time monitoring with audio alerts and comprehensive JSON output.</p> <p>Hardware</p> <p>This firmware is designed for the Oui-Spy device available at colonelpanic.tech, or any compatible Xiao ESP32-S3 board.</p>"},{"location":"#detection-capabilities","title":"Detection Capabilities","text":"<p>Flock You identifies surveillance devices through multiple methods:</p> <ul> <li>WiFi Promiscuous Mode - Captures probe requests and beacon frames</li> <li>Bluetooth Low Energy Scanning - Monitors BLE advertisements  </li> <li>MAC Address Filtering - Detects devices by known MAC prefixes</li> <li>SSID Pattern Matching - Identifies networks by specific names</li> <li>Device Name Matching - Detects BLE devices by advertised names</li> <li>BLE Service UUID Detection - Identifies Raven gunshot detectors by service UUIDs</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"Feature Description Multi-Method Detection WiFi + BLE scanning for comprehensive coverage Audio Alerts Buzzer notifications for detections JSON Output Structured data via serial for integration Web Dashboard Real-time monitoring at <code>http://localhost:5000</code> Data Export CSV and KML export capabilities Heartbeat System Continuous alerts while device in range"},{"location":"#detected-device-types","title":"Detected Device Types","text":"Device Type Detection Method Flock Safety ALPR Cameras WiFi SSID, MAC prefix Raven Gunshot Detectors BLE Service UUIDs Penguin Surveillance WiFi SSID, BLE name Pigvision Surveillance WiFi SSID, BLE name"},{"location":"#quick-start","title":"Quick Start","text":"<ol> <li>Build and flash the firmware to your Oui-Spy device</li> <li>Set up the web interface for real-time monitoring</li> <li>Start detecting surveillance cameras!</li> </ol>"},{"location":"#documentation-sections","title":"Documentation Sections","text":"<ul> <li> <p> Building</p> <p>Flash the firmware to your ESP32-S3</p> <p> Build Guide</p> </li> <li> <p> Web Interface</p> <p>Real-time detection dashboard</p> <p> Web Interface</p> </li> <li> <p> Detection Types</p> <p>Supported surveillance systems</p> <p> Detection Types</p> </li> <li> <p> BLE Protocol</p> <p>Bluetooth detection methodology</p> <p> BLE Protocol</p> </li> </ul>"},{"location":"#audio-alert-system","title":"Audio Alert System","text":"Alert Pattern Meaning Boot 2 beeps (low \u2192 high) Device starting up Detection 3 fast high beeps Surveillance device found Heartbeat 2 beeps every 10s Device still in range"},{"location":"#license","title":"License","text":"<p>This project is part of the surveillance awareness ecosystem.</p> <p>Built for the Xiao ESP32-S3 with PlatformIO</p>"},{"location":"accessories/","title":"Accessories","text":"<p>3D printed cases and accessories for the Oui-Spy device.</p>"},{"location":"accessories/#cases","title":"Cases","text":"Item Link Description Case with Antenna Hole MakerWorld External antenna support Travel Case MakerWorld Portable protection Keychain Case MakerWorld EDC form factor Mini Yagi Case MakerWorld Directional antenna mount SMA Spacer Printables Antenna positioning"},{"location":"accessories/#external-antenna","title":"External Antenna","text":"<p>For foxhunting applications requiring increased range and directional sensitivity:</p> <ul> <li>2.4G Directional Antenna 10.5dB High Gain SMA</li> </ul> <p>Antenna Use</p> <p>An external directional antenna significantly improves detection range and allows you to determine the direction of a surveillance device.</p>"},{"location":"accessories/#purchase","title":"Purchase","text":"<p>Oui-Spy devices are available exclusively at colonelpanic.tech</p>"},{"location":"architecture/","title":"Project Architecture","text":"<p>Flock You is an ESP32-S3 firmware built with PlatformIO that detects surveillance devices using WiFi and BLE scanning. This document outlines the project structure and key components.</p>"},{"location":"architecture/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   ESP32-S3 MCU                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Core 0    \u2502  \u2502   Core 1    \u2502  \u2502   WiFi/BLE  \u2502  \u2502\n\u2502  \u2502 Main Loop   \u2502  \u2502 BLE Scanner \u2502  \u2502   Radio     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                \u2502         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              FreeRTOS Scheduler               \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                \u2502         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Buzzer/   \u2502  \u2502   Flash     \u2502  \u2502   USB-CDC   \u2502  \u2502\n\u2502  \u2502   RGB LED   \u2502  \u2502   Storage   \u2502  \u2502   Serial    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>flock-you/\n\u251c\u2500\u2500 platformio.ini          # PlatformIO configuration\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 main.cpp           # Main firmware source\n\u251c\u2500\u2500 api/\n\u2502   \u251c\u2500\u2500 flockyou.py        # Python web server\n\u2502   \u251c\u2500\u2500 requirements.txt   # Python dependencies\n\u2502   \u2514\u2500\u2500 templates/\n\u2502       \u2514\u2500\u2500 index.html     # Web dashboard\n\u251c\u2500\u2500 datasets/\n\u2502   \u2514\u2500\u2500 *.csv              # Detection pattern databases\n\u2514\u2500\u2500 mkdocs/\n    \u2514\u2500\u2500 docs/              # Documentation\n</code></pre>"},{"location":"architecture/#firmware-components","title":"Firmware Components","text":""},{"location":"architecture/#main-entry-point","title":"Main Entry Point","text":"<p>The firmware runs on FreeRTOS and initializes multiple detection subsystems:</p> src/main.cpp<pre><code>void setup() {\n    Serial.begin(115200);\n\n    // Initialize buzzer\n    pinMode(BUZZER_PIN, OUTPUT);\n    boot_beep_sequence();\n\n    // Initialize WiFi promiscuous mode\n    wifi_init_promiscuous();\n\n    // Initialize BLE scanning\n    NimBLEDevice::init(\"FlockYou\");\n    pBLEScan = NimBLEDevice::getScan();\n    pBLEScan-&gt;setActiveScan(true);\n}\n</code></pre>"},{"location":"architecture/#detection-subsystems","title":"Detection Subsystems","text":""},{"location":"architecture/#wifi-promiscuous-mode","title":"WiFi Promiscuous Mode","text":"<p>Captures WiFi frames without association:</p> Feature Description Channel Hopping Scans all 13 channels Probe Requests Captures device probe frames Beacon Frames Identifies access points SSID Matching Pattern-based SSID detection MAC Filtering OUI-based device identification"},{"location":"architecture/#ble-scanner","title":"BLE Scanner","text":"<p>Monitors Bluetooth Low Energy advertisements:</p> Feature Description Active Scanning Requests scan responses Name Matching Device name pattern detection Service UUIDs Raven device identification RSSI Tracking Signal strength monitoring"},{"location":"architecture/#detection-patterns","title":"Detection Patterns","text":""},{"location":"architecture/#wifi-ssid-patterns","title":"WiFi SSID Patterns","text":"<pre><code>static const char* wifi_ssid_patterns[] = {\n    \"flock\",           // Standard Flock Safety\n    \"Flock\",           // Capitalized variant\n    \"FLOCK\",           // All caps variant\n    \"FS Ext Battery\",  // Extended Battery devices\n    \"Penguin\",         // Penguin surveillance\n    \"Pigvision\"        // Pigvision systems\n};\n</code></pre>"},{"location":"architecture/#mac-address-prefixes","title":"MAC Address Prefixes","text":"<p>Known surveillance device OUIs:</p> <pre><code>static const char* mac_prefixes[] = {\n    // FS Ext Battery devices\n    \"58:8e:81\", \"cc:cc:cc\", \"ec:1b:bd\", \"90:35:ea\",\n\n    // Flock WiFi devices\n    \"70:c9:4e\", \"3c:91:80\", \"d8:f3:bc\", \"80:30:49\"\n    // ... additional prefixes\n};\n</code></pre>"},{"location":"architecture/#ble-device-names","title":"BLE Device Names","text":"<pre><code>static const char* device_name_patterns[] = {\n    \"FS Ext Battery\",  // Flock Safety Extended Battery\n    \"Penguin\",         // Penguin surveillance\n    \"Flock\",           // Standard Flock Safety\n    \"Pigvision\"        // Pigvision systems\n};\n</code></pre>"},{"location":"architecture/#raven-service-uuids","title":"Raven Service UUIDs","text":"<p>Acoustic gunshot detector identification:</p> <pre><code>static const char* raven_service_uuids[] = {\n    \"0000180a-0000-1000-8000-00805f9b34fb\",  // Device Info\n    \"00003100-0000-1000-8000-00805f9b34fb\",  // GPS Service\n    \"00003200-0000-1000-8000-00805f9b34fb\",  // Power Service\n    \"00003300-0000-1000-8000-00805f9b34fb\",  // Network Service\n    // ... additional services\n};\n</code></pre>"},{"location":"architecture/#audio-alert-system","title":"Audio Alert System","text":"<pre><code>void beep(int frequency, int duration_ms) {\n    tone(BUZZER_PIN, frequency, duration_ms);\n    delay(duration_ms + 50);\n}\n</code></pre> Alert Frequency Duration Purpose Boot Low 200 Hz 300ms Startup sequence Boot High 800 Hz 300ms Startup complete Detection 1000 Hz 150ms x3 Device detected Heartbeat 600 Hz 100ms x2 Device in range"},{"location":"architecture/#json-output","title":"JSON Output","text":"<p>Detections are output as JSON to serial:</p> <pre><code>{\n  \"type\": \"Flock Safety\",\n  \"mac\": \"3C:71:BF:12:34:56\",\n  \"ssid\": \"FLOCK-S3-1234\",\n  \"rssi\": -62,\n  \"method\": \"wifi_ssid\"\n}\n</code></pre>"},{"location":"architecture/#detection-methods","title":"Detection Methods","text":"Method Description <code>wifi_ssid</code> Matched WiFi SSID pattern <code>wifi_mac</code> Matched MAC prefix <code>ble_name</code> Matched BLE device name <code>ble_uuid</code> Matched BLE service UUID"},{"location":"architecture/#web-interface","title":"Web Interface","text":"<p>The Python web server (<code>api/flockyou.py</code>) provides:</p> <pre><code>graph LR\n    A[ESP32 Serial] --&gt; B[Python Server]\n    B --&gt; C[WebSocket]\n    C --&gt; D[Web Dashboard]\n    B --&gt; E[REST API]\n    E --&gt; F[Export CSV/KML]</code></pre>"},{"location":"architecture/#data-flow","title":"Data Flow","text":"<pre><code>sequenceDiagram\n    participant WiFi as WiFi Radio\n    participant BLE as BLE Scanner\n    participant CPU as ESP32 CPU\n    participant Serial as Serial Output\n    participant Web as Web Server\n    participant UI as Dashboard\n\n    WiFi-&gt;&gt;CPU: Promiscuous Frame\n    CPU-&gt;&gt;CPU: Pattern Match\n    CPU-&gt;&gt;Serial: JSON Detection\n    BLE-&gt;&gt;CPU: BLE Advertisement\n    CPU-&gt;&gt;CPU: UUID/Name Match\n    CPU-&gt;&gt;Serial: JSON Detection\n    Serial-&gt;&gt;Web: Serial Read\n    Web-&gt;&gt;UI: WebSocket Push</code></pre>"},{"location":"architecture/#configuration","title":"Configuration","text":"<p>Key settings in <code>main.cpp</code>:</p> Constant Default Description <code>BUZZER_PIN</code> 3 GPIO for buzzer <code>BLE_SCAN_DURATION</code> 1s BLE scan window <code>BLE_SCAN_INTERVAL</code> 5000ms Time between scans <code>CHANNEL_HOP_INTERVAL</code> 500ms WiFi channel hop rate <code>MAX_CHANNEL</code> 13 WiFi channels to scan"},{"location":"architecture/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about BLE detection</li> <li>Explore detection types</li> <li>Set up the web interface</li> </ul>"},{"location":"ble-protocol/","title":"BLE Detection","text":"<p>Flock You uses Bluetooth Low Energy (BLE) scanning to detect surveillance devices. This document describes the BLE detection methodology.</p>"},{"location":"ble-protocol/#overview","title":"Overview","text":"<p>The firmware uses NimBLE to scan for BLE advertisements from surveillance devices, specifically targeting:</p> <ul> <li>Raven acoustic gunshot detectors (SoundThinking/ShotSpotter)</li> <li>Flock Safety extended battery devices</li> <li>Other surveillance systems with BLE presence</li> </ul>"},{"location":"ble-protocol/#scan-configuration","title":"Scan Configuration","text":"<pre><code>#define BLE_SCAN_DURATION 1    // Seconds per scan\n#define BLE_SCAN_INTERVAL 5000 // Milliseconds between scans\n</code></pre> <p>The scanner runs active scans to request scan responses, which may reveal additional device information.</p>"},{"location":"ble-protocol/#detection-methods","title":"Detection Methods","text":""},{"location":"ble-protocol/#device-name-matching","title":"Device Name Matching","text":"<p>The firmware matches advertised device names against known patterns:</p> <pre><code>static const char* device_name_patterns[] = {\n    \"FS Ext Battery\",  // Flock Safety Extended Battery\n    \"Penguin\",         // Penguin surveillance\n    \"Flock\",           // Standard Flock Safety\n    \"Pigvision\"        // Pigvision systems\n};\n</code></pre>"},{"location":"ble-protocol/#service-uuid-detection","title":"Service UUID Detection","text":"<p>Raven gunshot detectors are identified by their BLE service UUIDs:</p> Service UUID Firmware Version Device Info <code>0000180a-0000-1000-8000-00805f9b34fb</code> All GPS Location <code>00003100-0000-1000-8000-00805f9b34fb</code> 1.2.0+ Power/Battery <code>00003200-0000-1000-8000-00805f9b34fb</code> 1.2.0+ Network Status <code>00003300-0000-1000-8000-00805f9b34fb</code> 1.2.0+ Upload Stats <code>00003400-0000-1000-8000-00805f9b34fb</code> 1.2.0+ Error Service <code>00003500-0000-1000-8000-00805f9b34fb</code> 1.2.0+ Health (Legacy) <code>00001809-0000-1000-8000-00805f9b34fb</code> 1.1.7 Location (Legacy) <code>00001819-0000-1000-8000-00805f9b34fb</code> 1.1.7"},{"location":"ble-protocol/#raven-device-detection","title":"Raven Device Detection","text":"<p>Raven devices (acoustic gunshot detection) expose multiple BLE services that reveal their capabilities:</p> <pre><code>// Check if device advertises Raven-specific services\nbool isRavenDevice(NimBLEAdvertisedDevice* device) {\n    for (int i = 0; i &lt; device-&gt;getServiceUUIDCount(); i++) {\n        std::string uuid = device-&gt;getServiceUUID(i).toString();\n        for (const char* raven_uuid : raven_service_uuids) {\n            if (uuid == raven_uuid) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>"},{"location":"ble-protocol/#raven-service-details","title":"Raven Service Details","text":""},{"location":"ble-protocol/#gps-location-service-0x3100","title":"GPS Location Service (0x3100)","text":"<p>Reports device GPS coordinates for positioning the acoustic sensor.</p>"},{"location":"ble-protocol/#power-service-0x3200","title":"Power Service (0x3200)","text":"<p>Reports battery level and solar charging status.</p>"},{"location":"ble-protocol/#network-service-0x3300","title":"Network Service (0x3300)","text":"<p>Reports LTE/WiFi connectivity status for cloud uploads.</p>"},{"location":"ble-protocol/#upload-service-0x3400","title":"Upload Service (0x3400)","text":"<p>Reports statistics about audio event uploads.</p>"},{"location":"ble-protocol/#ble-scan-callback","title":"BLE Scan Callback","text":"<pre><code>class ScanCallbacks : public NimBLEScanCallbacks {\n    void onResult(NimBLEAdvertisedDevice* device) {\n        // Check device name patterns\n        std::string name = device-&gt;getName();\n        for (const char* pattern : device_name_patterns) {\n            if (name.find(pattern) != std::string::npos) {\n                handleDetection(device, \"ble_name\");\n                return;\n            }\n        }\n\n        // Check service UUIDs for Raven devices\n        if (isRavenDevice(device)) {\n            handleDetection(device, \"ble_uuid\");\n        }\n    }\n};\n</code></pre>"},{"location":"ble-protocol/#signal-strength","title":"Signal Strength","text":"<p>RSSI values indicate proximity to detected devices:</p> RSSI Range Distance Indication -30 to -50 Very close &lt; 2 meters -50 to -70 Close 2-10 meters -70 to -85 Medium 10-30 meters -85 to -100 Far &gt; 30 meters <p>RSSI Accuracy</p> <p>RSSI is affected by obstacles, interference, and antenna orientation. Use as a rough proximity indicator only.</p>"},{"location":"ble-protocol/#json-output","title":"JSON Output","text":"<p>BLE detections are output as JSON:</p> <pre><code>{\n  \"type\": \"Raven\",\n  \"mac\": \"AA:BB:CC:DD:EE:FF\",\n  \"name\": \"Raven-1234\",\n  \"rssi\": -65,\n  \"method\": \"ble_uuid\",\n  \"services\": [\"0x180a\", \"0x3100\", \"0x3200\"]\n}\n</code></pre>"},{"location":"ble-protocol/#detection-flow","title":"Detection Flow","text":"<pre><code>sequenceDiagram\n    participant BLE as BLE Radio\n    participant Scan as NimBLE Scanner\n    participant CB as Scan Callback\n    participant Out as Serial Output\n    participant Buzz as Buzzer\n\n    loop Every 5 seconds\n        Scan-&gt;&gt;BLE: Start Active Scan (1s)\n        BLE-&gt;&gt;CB: Advertisement Received\n        CB-&gt;&gt;CB: Check Name Patterns\n        CB-&gt;&gt;CB: Check Service UUIDs\n        alt Match Found\n            CB-&gt;&gt;Out: JSON Detection\n            CB-&gt;&gt;Buzz: Alert Beeps\n        end\n        Scan-&gt;&gt;BLE: Stop Scan\n    end</code></pre>"},{"location":"ble-protocol/#heartbeat-system","title":"Heartbeat System","text":"<p>When a device remains in range, the firmware provides periodic alerts:</p> <pre><code>// If device still in range after 10 seconds, heartbeat beep\nif (device_in_range &amp;&amp; millis() - last_heartbeat &gt; 10000) {\n    beep(HEARTBEAT_FREQ, HEARTBEAT_DURATION);\n    delay(100);\n    beep(HEARTBEAT_FREQ, HEARTBEAT_DURATION);\n    last_heartbeat = millis();\n}\n</code></pre>"},{"location":"ble-protocol/#adding-new-detection-patterns","title":"Adding New Detection Patterns","text":"<p>To detect additional BLE devices:</p> <ol> <li>Device Name: Add pattern to <code>device_name_patterns[]</code></li> <li>Service UUID: Add UUID to appropriate array</li> <li>MAC Prefix: Add OUI to <code>mac_prefixes[]</code> (if known)</li> </ol> <p>Example adding a new device type:</p> <pre><code>// Add to device_name_patterns\n\"NewDevice\",\n\n// Add to service UUIDs if applicable\n\"00001234-0000-1000-8000-00805f9b34fb\",\n</code></pre>"},{"location":"ble-protocol/#next-steps","title":"Next Steps","text":"<ul> <li>Explore detection types</li> <li>View project architecture</li> <li>Set up web interface</li> </ul>"},{"location":"building/","title":"Building Flock You","text":"<p>This guide covers building and flashing the Flock You firmware to your ESP32-S3 device.</p>"},{"location":"building/#prerequisites","title":"Prerequisites","text":"Requirement Description PlatformIO IDE or CLI USB-C Cable Data-capable cable for programming Python 3.8+ (PlatformIO dependency) <p>PlatformIO Installation</p> <p>Install PlatformIO as a VS Code extension or use the CLI: <code>pip install platformio</code></p>"},{"location":"building/#supported-hardware","title":"Supported Hardware","text":"Board Features Build Target Oui-Spy Xiao ESP32-S3 + Buzzer <code>xiao_esp32s3</code> UM FeatherS3 RGB LED + iOS App BLE <code>um_feathers3</code> Xiao ESP32-S3 DIY buzzer setup <code>xiao_esp32s3</code> Xiao ESP32-C3 DIY buzzer setup <code>xiao_esp32c3</code>"},{"location":"building/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/VirtuallyScott/flock-you.git\ncd flock-you\n</code></pre>"},{"location":"building/#hardware-setup","title":"Hardware Setup","text":""},{"location":"building/#option-1-oui-spy-device-recommended","title":"Option 1: Oui-Spy Device (Recommended)","text":"<p>The Oui-Spy device from colonelpanic.tech comes pre-configured with:</p> <ul> <li>Xiao ESP32-S3 microcontroller</li> <li>Built-in buzzer system</li> <li>USB-C connectivity</li> </ul> <p>Simply connect via USB-C and proceed to flashing.</p>"},{"location":"building/#option-2-unexpected-maker-feathers3","title":"Option 2: Unexpected Maker FeatherS3","text":"<p>The FeatherS3 provides RGB LED alerts and iOS app connectivity:</p> <ul> <li>ESP32-S3 with 16MB Flash, 8MB PSRAM</li> <li>Built-in RGB NeoPixel LED</li> <li>BLE GATT server for FlockFinder iOS app</li> </ul> <p>No additional wiring required.</p>"},{"location":"building/#option-3-diy-xiao-esp32-s3-setup","title":"Option 3: DIY Xiao ESP32-S3 Setup","text":"<p>Wire a 3V buzzer to your board:</p> <pre><code>Xiao ESP32 S3    Buzzer\nGPIO3 (D2)  ---&gt; Positive (+)\nGND         ---&gt; Negative (-)\n</code></pre>"},{"location":"building/#esp32-s3-boot-modes","title":"ESP32-S3 Boot Modes","text":""},{"location":"building/#download-mode-required-for-first-flash","title":"DOWNLOAD Mode (Required for First Flash)","text":"<p>When flashing from CircuitPython or first-time Arduino flash:</p> <ol> <li>Press and hold [BOOT] button</li> <li>Press and release [RESET] button</li> <li>Release [BOOT] button</li> <li>A new serial device will appear</li> </ol> <p>First-time Flash</p> <p>If your board came with CircuitPython, you must use DOWNLOAD mode for the initial Arduino/PlatformIO flash.</p>"},{"location":"building/#uf2-bootloader-mode-circuitpython-only","title":"UF2 Bootloader Mode (CircuitPython Only)","text":"<p>For CircuitPython updates via drag-and-drop:</p> <ol> <li>Press and release [RESET]</li> <li>When RGB LED turns purple, press and release [BOOT]</li> <li>RGB LED turns green when filesystem mounts</li> <li>Drag-and-drop UF2 file to mounted drive</li> </ol>"},{"location":"building/#build-and-flash","title":"Build and Flash","text":""},{"location":"building/#choose-your-board","title":"Choose Your Board","text":"<pre><code># For Unexpected Maker FeatherS3 (RGB LED + iOS app)\npio run -e um_feathers3 --target upload\n\n# For Oui-Spy / Xiao ESP32-S3 (buzzer)\npio run -e xiao_esp32s3 --target upload\n\n# For Xiao ESP32-C3 (buzzer)\npio run -e xiao_esp32c3 --target upload\n</code></pre>"},{"location":"building/#using-platformio-ide-vs-code","title":"Using PlatformIO IDE (VS Code)","text":"<ol> <li>Open the <code>flock-you</code> folder in VS Code</li> <li>Click the PlatformIO icon in the sidebar</li> <li>Select your environment (<code>um_feathers3</code>, <code>xiao_esp32s3</code>, etc.)</li> <li>Click Upload under Project Tasks</li> </ol> <p>ESP32-S3 Reset Bug</p> <p>After upload completes, you may need to press [RESET] manually. This is a known ESP32-S3 silicon limitation.</p>"},{"location":"building/#monitor-serial-output","title":"Monitor Serial Output","text":"<p>View detection data in real-time:</p> <pre><code>pio device monitor\n</code></pre> <p>You'll see JSON output for each detection:</p> <pre><code>{\"type\":\"Flock Safety\",\"mac\":\"3C:71:BF:12:34:56\",\"rssi\":-62}\n</code></pre>"},{"location":"building/#platformio-configuration","title":"PlatformIO Configuration","text":"<p>The <code>platformio.ini</code> includes board-specific settings:</p> <pre><code>[env:um_feathers3]\nplatform = espressif32\nboard = um_feathers3\nframework = arduino\n\nbuild_flags = \n    -D ARDUINO_USB_MODE=1\n    -D ARDUINO_USB_CDC_ON_BOOT=1\n\nmonitor_speed = 115200\n</code></pre>"},{"location":"building/#firmware-configuration","title":"Firmware Configuration","text":"<p>Key settings in <code>src/main.cpp</code>:</p> Setting Default Description <code>BUZZER_PIN</code> 3 GPIO pin for buzzer (Oui-Spy/Xiao) <code>BLE_SCAN_DURATION</code> 1s BLE scan window <code>BLE_SCAN_INTERVAL</code> 5000ms Time between BLE scans <code>CHANNEL_HOP_INTERVAL</code> 500ms WiFi channel hop rate"},{"location":"building/#troubleshooting","title":"Troubleshooting","text":""},{"location":"building/#no-serial-port-appears","title":"No Serial Port Appears","text":"Cause Solution Charge-only cable Use a data-capable USB-C cable Wrong boot mode Enter DOWNLOAD mode (see above) Missing USB driver ESP32-S3 uses native USB-CDC, no driver needed"},{"location":"building/#upload-fails","title":"Upload Fails","text":"Error Solution \"No serial port\" Enter DOWNLOAD mode before upload \"Timed out\" Press RESET after upload, try again \"Wrong board\" Verify correct environment in platformio.ini"},{"location":"building/#no-wifi-ap-no-detections","title":"No WiFi AP / No Detections","text":"Issue Solution AP doesn't appear Wait 10-15 seconds, check serial for errors No BLE detections Verify device is in range, check scan output No audio alerts Check buzzer wiring (GPIO3 \u2192 buzzer+, GND \u2192 buzzer-)"},{"location":"building/#feathers3-rgb-led-not-working","title":"FeatherS3 RGB LED Not Working","text":"Issue Solution No LED activity Verify correct build target (<code>um_feathers3</code>) Wrong colors Check GPIO40 (data) and GPIO39 (power) assignments"},{"location":"building/#verification-checklist","title":"Verification Checklist","text":"<ul> <li>[ ] USB-C connection establishes serial port</li> <li>[ ] Board enters DOWNLOAD mode correctly</li> <li>[ ] Firmware uploads successfully</li> <li>[ ] Serial output visible at 115200 baud</li> <li>[ ] Boot sequence plays (beeps or LED flash)</li> <li>[ ] Scanning activity in serial output</li> </ul>"},{"location":"building/#next-steps","title":"Next Steps","text":"<ul> <li>Set up the web interface for real-time monitoring</li> <li>Learn about detection types</li> <li>View project architecture</li> </ul>"},{"location":"data-export/","title":"Data Export","text":"<p>Flock You supports exporting detection data via the web interface for analysis, mapping, or sharing.</p>"},{"location":"data-export/#export-formats","title":"Export Formats","text":"Format Extension Best For CSV <code>.csv</code> Spreadsheets, data analysis KML <code>.kml</code> Google Earth, mapping"},{"location":"data-export/#how-to-export","title":"How to Export","text":""},{"location":"data-export/#via-web-interface","title":"Via Web Interface","text":"<ol> <li>Open the dashboard at <code>http://localhost:5000</code></li> <li>Click the Export button</li> <li>Select format (CSV or KML)</li> <li>Download the file</li> </ol>"},{"location":"data-export/#via-api","title":"Via API","text":"<pre><code># Export as CSV\ncurl http://localhost:5000/api/export/csv -o detections.csv\n\n# Export as KML\ncurl http://localhost:5000/api/export/kml -o detections.kml\n</code></pre>"},{"location":"data-export/#csv-format","title":"CSV Format","text":"<p>Comma-separated values compatible with Excel, Google Sheets, and data analysis tools.</p>"},{"location":"data-export/#columns","title":"Columns","text":"Column Type Description <code>timestamp</code> ISO 8601 Detection time <code>type</code> String Device type (e.g., \"Flock Safety\") <code>mac</code> String Device MAC address <code>ssid</code> String WiFi network name <code>rssi</code> Integer Signal strength (dBm) <code>method</code> String Detection method <code>latitude</code> Float GPS latitude (if available) <code>longitude</code> Float GPS longitude (if available)"},{"location":"data-export/#example","title":"Example","text":"<pre><code>timestamp,type,mac,ssid,rssi,method,latitude,longitude\n2024-01-15T14:30:00Z,Flock Safety,3C:71:BF:12:34:56,FLOCK-S3-1234,-62,wifi_ssid,37.7749,-122.4194\n2024-01-15T14:35:00Z,Raven,AA:BB:CC:DD:EE:FF,,-65,ble_uuid,37.7751,-122.4189\n</code></pre>"},{"location":"data-export/#kml-format","title":"KML Format","text":"<p>Keyhole Markup Language for geographic visualization.</p>"},{"location":"data-export/#structure","title":"Structure","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;kml xmlns=\"http://www.opengis.net/kml/2.2\"&gt;\n  &lt;Document&gt;\n    &lt;name&gt;Flock You Detections&lt;/name&gt;\n\n    &lt;Placemark&gt;\n      &lt;name&gt;Flock Safety&lt;/name&gt;\n      &lt;description&gt;\n        MAC: 3C:71:BF:12:34:56\n        SSID: FLOCK-S3-1234\n        RSSI: -62 dBm\n        Method: wifi_ssid\n      &lt;/description&gt;\n      &lt;TimeStamp&gt;\n        &lt;when&gt;2024-01-15T14:30:00Z&lt;/when&gt;\n      &lt;/TimeStamp&gt;\n      &lt;Point&gt;\n        &lt;coordinates&gt;-122.4194,37.7749,0&lt;/coordinates&gt;\n      &lt;/Point&gt;\n    &lt;/Placemark&gt;\n\n  &lt;/Document&gt;\n&lt;/kml&gt;\n</code></pre>"},{"location":"data-export/#compatible-applications","title":"Compatible Applications","text":"<p>KML files can be imported into:</p> <ul> <li>Google Earth</li> <li>Google Maps (My Maps)</li> <li>QGIS</li> <li>ArcGIS</li> <li>GPS Visualizer</li> </ul>"},{"location":"data-export/#data-analysis","title":"Data Analysis","text":""},{"location":"data-export/#opening-in-excel","title":"Opening in Excel","text":"<ol> <li>Export as CSV</li> <li>Open Excel and select File &gt; Open</li> <li>Choose the CSV file</li> <li>Data will populate in columns</li> </ol>"},{"location":"data-export/#opening-in-python","title":"Opening in Python","text":"<pre><code>import pandas as pd\n\n# Load CSV\ndf = pd.read_csv('detections.csv')\n\n# Filter by type\nflock_detections = df[df['type'] == 'Flock Safety']\n\n# Count by type\nprint(df['type'].value_counts())\n</code></pre>"},{"location":"data-export/#visualizing-on-map","title":"Visualizing on Map","text":"<pre><code>import folium\nimport pandas as pd\n\ndf = pd.read_csv('detections.csv')\n\n# Create map centered on detections\nm = folium.Map(\n    location=[df['latitude'].mean(), df['longitude'].mean()],\n    zoom_start=12\n)\n\n# Add markers\nfor _, row in df.iterrows():\n    if pd.notna(row['latitude']):\n        folium.Marker(\n            [row['latitude'], row['longitude']],\n            popup=f\"{row['type']}&lt;br&gt;RSSI: {row['rssi']} dBm\",\n            icon=folium.Icon(color='red' if 'Flock' in row['type'] else 'blue')\n        ).add_to(m)\n\nm.save('detections_map.html')\n</code></pre>"},{"location":"data-export/#adding-gps-data","title":"Adding GPS Data","text":"<p>The web interface can capture GPS coordinates if running on a device with location services:</p> <ol> <li>Enable location in browser when prompted</li> <li>Detections will include lat/long coordinates</li> <li>Export will include geographic data</li> </ol> <p>For mobile use, consider running the web server on a laptop while driving.</p>"},{"location":"data-export/#privacy-notice","title":"Privacy Notice","text":"<p>Location Data</p> <p>Exported files may contain GPS coordinates revealing where you detected surveillance devices. Consider privacy implications before sharing.</p> <p>Recommendations:</p> <ul> <li>Only share with trusted parties</li> <li>Consider removing or obfuscating exact locations</li> <li>Don't post raw exports publicly</li> </ul>"},{"location":"data-export/#next-steps","title":"Next Steps","text":"<ul> <li>Set up the web interface</li> <li>Learn about detection types</li> <li>View project architecture</li> </ul>"},{"location":"detection-types/","title":"Detection Types","text":"<p>Flock You detects various surveillance systems using WiFi and BLE scanning. This page documents all supported detection types and their identification methods.</p>"},{"location":"detection-types/#surveillance-categories","title":"Surveillance Categories","text":"<pre><code>mindmap\n  root((Surveillance Types))\n    ALPR\n      Flock Safety\n      FS Ext Battery\n    Acoustic\n      Raven/ShotSpotter\n    Other\n      Penguin\n      Pigvision</code></pre>"},{"location":"detection-types/#primary-detection-targets","title":"Primary Detection Targets","text":""},{"location":"detection-types/#flock-safety","title":"Flock Safety","text":"Property Value Type ALPR (Automated License Plate Recognition) Operator Law Enforcement Agencies Detection WiFi SSID, MAC prefix, BLE name <p>Description: Flock Safety cameras are automated license plate recognition systems deployed by law enforcement agencies. They capture license plates and vehicle characteristics to track vehicle movements.</p> <p>Identification Patterns:</p> Method Pattern WiFi SSID <code>FLOCK-*</code>, <code>flock*</code>, <code>FLOCK*</code> BLE Name <code>Flock</code>, <code>FS Ext Battery</code> MAC Prefix <code>70:c9:4e</code>, <code>3c:91:80</code>, <code>d8:f3:bc</code>, etc."},{"location":"detection-types/#fs-ext-battery","title":"FS Ext Battery","text":"Property Value Type Extended Battery ALPR Unit Operator Law Enforcement Agencies Detection WiFi SSID, MAC prefix, BLE name <p>Description: Extended battery variants of Flock Safety cameras for locations without power infrastructure.</p> <p>Identification Patterns:</p> Method Pattern WiFi SSID <code>FS Ext Battery</code> BLE Name <code>FS Ext Battery</code> MAC Prefix <code>58:8e:81</code>, <code>cc:cc:cc</code>, <code>ec:1b:bd</code>, etc."},{"location":"detection-types/#raven-shotspotter","title":"Raven (ShotSpotter)","text":"Property Value Type Acoustic Gunshot Detector Operator SoundThinking / Law Enforcement Detection BLE Service UUIDs <p>Description: Raven devices are acoustic surveillance sensors that detect gunshots and other loud sounds. Part of the SoundThinking (formerly ShotSpotter) network.</p> <p>Identification Patterns:</p> Service UUID Purpose <code>0000180a-...</code> Device Information <code>00003100-...</code> GPS Location <code>00003200-...</code> Power/Battery Status <code>00003300-...</code> Network Status <code>00003400-...</code> Upload Statistics <code>00003500-...</code> Error Reporting <p>See BLE Detection for full UUID details.</p>"},{"location":"detection-types/#penguin","title":"Penguin","text":"Property Value Type Surveillance Device Detection WiFi SSID, BLE name <p>Description: Penguin surveillance devices detected by WiFi and BLE patterns.</p> <p>Identification Patterns:</p> Method Pattern WiFi SSID <code>Penguin*</code> BLE Name <code>Penguin</code>"},{"location":"detection-types/#pigvision","title":"Pigvision","text":"Property Value Type Surveillance System Detection WiFi SSID, BLE name <p>Description: Pigvision surveillance systems detected by network patterns.</p> <p>Identification Patterns:</p> Method Pattern WiFi SSID <code>Pigvision*</code> BLE Name <code>Pigvision</code>"},{"location":"detection-types/#detection-methods","title":"Detection Methods","text":""},{"location":"detection-types/#wifi-ssid-matching","title":"WiFi SSID Matching","text":"<p>The firmware captures WiFi beacon frames and probe requests, matching SSIDs against known patterns:</p> <pre><code>static const char* wifi_ssid_patterns[] = {\n    \"flock\",\n    \"Flock\",\n    \"FLOCK\",\n    \"FS Ext Battery\",\n    \"Penguin\",\n    \"Pigvision\"\n};\n</code></pre>"},{"location":"detection-types/#mac-address-filtering","title":"MAC Address Filtering","text":"<p>Known surveillance device MAC prefixes (OUIs) are checked:</p> <pre><code>static const char* mac_prefixes[] = {\n    // FS Ext Battery devices\n    \"58:8e:81\", \"cc:cc:cc\", \"ec:1b:bd\",\n\n    // Flock WiFi devices\n    \"70:c9:4e\", \"3c:91:80\", \"d8:f3:bc\"\n    // ... more prefixes\n};\n</code></pre>"},{"location":"detection-types/#ble-name-matching","title":"BLE Name Matching","text":"<p>Device names in BLE advertisements are matched:</p> <pre><code>static const char* device_name_patterns[] = {\n    \"FS Ext Battery\",\n    \"Penguin\",\n    \"Flock\",\n    \"Pigvision\"\n};\n</code></pre>"},{"location":"detection-types/#ble-service-uuid-detection","title":"BLE Service UUID Detection","text":"<p>Raven devices are identified by their unique service UUIDs advertised via BLE.</p>"},{"location":"detection-types/#json-output-format","title":"JSON Output Format","text":"<p>Each detection outputs JSON to serial:</p> <pre><code>{\n  \"type\": \"Flock Safety\",\n  \"mac\": \"3C:71:BF:12:34:56\",\n  \"ssid\": \"FLOCK-S3-1234\",\n  \"rssi\": -62,\n  \"method\": \"wifi_ssid\"\n}\n</code></pre>"},{"location":"detection-types/#fields","title":"Fields","text":"Field Description <code>type</code> Detection category <code>mac</code> Device MAC address <code>ssid</code> WiFi SSID (if applicable) <code>name</code> BLE device name (if applicable) <code>rssi</code> Signal strength (dBm) <code>method</code> How device was detected"},{"location":"detection-types/#detection-methods_1","title":"Detection Methods","text":"Method Description <code>wifi_ssid</code> Matched WiFi SSID pattern <code>wifi_mac</code> Matched MAC address prefix <code>ble_name</code> Matched BLE device name <code>ble_uuid</code> Matched BLE service UUID"},{"location":"detection-types/#adding-new-detection-types","title":"Adding New Detection Types","text":"<p>To add support for new surveillance systems:</p> <ol> <li>WiFi SSID: Add pattern to <code>wifi_ssid_patterns[]</code></li> <li>MAC Prefix: Add OUI to <code>mac_prefixes[]</code></li> <li>BLE Name: Add pattern to <code>device_name_patterns[]</code></li> <li>BLE UUID: Add UUID to <code>raven_service_uuids[]</code></li> </ol> <p>Example:</p> <pre><code>// Add to wifi_ssid_patterns\n\"NewSurveillance\",\n\n// Add to mac_prefixes (if known OUI)\n\"AA:BB:CC\",\n\n// Add to device_name_patterns\n\"NewDevice\",\n</code></pre>"},{"location":"detection-types/#data-sources","title":"Data Sources","text":"<p>Detection patterns are derived from:</p> <ul> <li>Real device databases (see <code>datasets/</code> folder)</li> <li>Wigle.net wardriving data</li> <li>Community contributions</li> <li>Manual device analysis</li> </ul>"},{"location":"detection-types/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about BLE detection</li> <li>View project architecture</li> <li>Set up web interface</li> </ul>"},{"location":"related-projects/","title":"Related Projects","text":"<p>Flock You is part of the OUI-SPY ecosystem of ESP32-S3 BLE detection tools.</p>"},{"location":"related-projects/#oui-spy-family","title":"OUI-SPY Family","text":"Firmware Repository Use Case Flock You flock-you Surveillance camera &amp; gunshot detector detection OUI-SPY Detector ouispy-detector Multi-target BLE scanner with OUI filtering OUI-SPY Foxhunter ouispy-foxhunter Single-target precision proximity tracker OUI-SPY UniPwn Oui-Spy-UniPwn Unitree robot security research Sky-Spy Sky-Spy Drone RemoteID detection &amp; mapping"},{"location":"related-projects/#companion-apps","title":"Companion Apps","text":"App Platform Description FlockFinder iOS FlockFinder iOS App - BLE companion for FeatherS3"},{"location":"related-projects/#research-data-sources","title":"Research &amp; Data Sources","text":""},{"location":"related-projects/#deflock","title":"DeFlock","text":"<p>DeFlock is a crowdsourced ALPR location and reporting tool.</p> <ul> <li>GitHub: FoggedLens/deflock</li> <li>Provides comprehensive datasets and methodologies for surveillance device detection</li> <li>Real-world device signatures included in the <code>datasets/</code> folder</li> </ul>"},{"location":"related-projects/#gainsec","title":"GainSec","text":"<p>GainSec provides OSINT and privacy research.</p> <ul> <li>Specialized in surveillance technology analysis</li> <li>Contributed <code>raven_configurations.json</code> - verified BLE service UUIDs from SoundThinking/ShotSpotter Raven devices</li> <li>Enables detection of acoustic gunshot detection devices</li> </ul>"},{"location":"related-projects/#hardware-references","title":"Hardware References","text":""},{"location":"related-projects/#esp32-s3-documentation","title":"ESP32-S3 Documentation","text":"<ul> <li>ESP32-S3 Getting Started</li> <li>Unexpected Maker ESP32-S3 GitHub</li> <li>ESP32-S3 Pinout Cards</li> </ul>"},{"location":"related-projects/#development-tools","title":"Development Tools","text":"<ul> <li>PlatformIO Documentation</li> <li>ESP32 Arduino Core</li> <li>NimBLE-Arduino</li> </ul>"},{"location":"related-projects/#oui-reference","title":"OUI Reference","text":"<ul> <li>IEEE OUI Lookup</li> <li>OUI List for OUI-SPY</li> </ul>"},{"location":"related-projects/#acknowledgments","title":"Acknowledgments","text":"<p>Special thanks to the researchers and contributors who have made this work possible:</p> <ul> <li>GainSec - Raven BLE service UUID dataset for SoundThinking/ShotSpotter detection</li> <li>DeFlock - Crowdsourced surveillance camera location data and detection methodologies</li> <li>Colonel Panic - Oui-Spy hardware and ecosystem development</li> <li>The broader surveillance detection community for continued research and privacy protection efforts</li> </ul>"},{"location":"web-interface/","title":"Web Interface","text":"<p>Flock You includes a Python-based web dashboard for real-time monitoring, detection history, and data export.</p>"},{"location":"web-interface/#overview","title":"Overview","text":"Feature Description Live Dashboard Real-time detection feed Serial Terminal Device output in browser Detection History Browse past detections Data Export CSV and KML formats Device Info Signal strength and details"},{"location":"web-interface/#prerequisites","title":"Prerequisites","text":"Requirement Version Python 3.8+ Oui-Spy Device Connected via USB"},{"location":"web-interface/#installation","title":"Installation","text":""},{"location":"web-interface/#1-navigate-to-api-directory","title":"1. Navigate to API Directory","text":"<pre><code>cd flock-you/api\n</code></pre>"},{"location":"web-interface/#2-create-virtual-environment","title":"2. Create Virtual Environment","text":"macOS/LinuxWindows <pre><code>python3 -m venv venv\nsource venv/bin/activate\n</code></pre> <pre><code>python -m venv venv\nvenv\\Scripts\\activate\n</code></pre>"},{"location":"web-interface/#3-install-dependencies","title":"3. Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"web-interface/#running-the-server","title":"Running the Server","text":""},{"location":"web-interface/#start-the-web-server","title":"Start the Web Server","text":"<pre><code>python flockyou.py\n</code></pre>"},{"location":"web-interface/#access-the-dashboard","title":"Access the Dashboard","text":"<p>Open your browser to: http://localhost:5000</p>"},{"location":"web-interface/#dashboard-features","title":"Dashboard Features","text":""},{"location":"web-interface/#real-time-detection-feed","title":"Real-Time Detection Feed","text":"<p>The main dashboard shows live detections as they occur:</p> <ul> <li>Device Type: Flock Safety, Ring, Verkada, etc.</li> <li>Signal Strength: RSSI in dBm</li> <li>MAC Address: Device identifier</li> <li>SSID: WiFi network name (if applicable)</li> <li>Timestamp: When detected</li> </ul>"},{"location":"web-interface/#serial-terminal","title":"Serial Terminal","text":"<p>View raw device output in real-time:</p> <pre><code>{\"type\":\"Flock Safety\",\"mac\":\"3C:71:BF:12:34:56\",\"rssi\":-62}\n</code></pre>"},{"location":"web-interface/#detection-history","title":"Detection History","text":"<p>Browse and search past detections:</p> <ul> <li>Filter by device type</li> <li>Sort by time or signal strength</li> <li>View detection details</li> </ul>"},{"location":"web-interface/#data-export","title":"Data Export","text":""},{"location":"web-interface/#export-formats","title":"Export Formats","text":"Format Use Case CSV Spreadsheets, analysis KML Google Earth, mapping"},{"location":"web-interface/#exporting-data","title":"Exporting Data","text":"<ol> <li>Click the Export button</li> <li>Select format (CSV or KML)</li> <li>Download the file</li> </ol>"},{"location":"web-interface/#csv-format","title":"CSV Format","text":"<pre><code>timestamp,type,mac,ssid,rssi,latitude,longitude\n2024-01-15T14:30:00Z,Flock Safety,3C:71:BF:12:34:56,FLOCK-S3-1234,-62,37.7749,-122.4194\n</code></pre>"},{"location":"web-interface/#kml-format","title":"KML Format","text":"<p>Compatible with Google Earth for visualizing detection locations on a map.</p>"},{"location":"web-interface/#configuration","title":"Configuration","text":""},{"location":"web-interface/#server-settings","title":"Server Settings","text":"<p>Edit <code>flockyou.py</code> to customize:</p> <pre><code># Server configuration\nHOST = '0.0.0.0'  # Listen on all interfaces\nPORT = 5000       # Default port\nDEBUG = True      # Enable debug mode\n</code></pre>"},{"location":"web-interface/#serial-port","title":"Serial Port","text":"<p>The server auto-detects the Oui-Spy device. If needed, specify manually:</p> <pre><code>SERIAL_PORT = '/dev/ttyUSB0'  # Linux\n# SERIAL_PORT = '/dev/tty.usbserial-xxx'  # macOS\n# SERIAL_PORT = 'COM3'  # Windows\n</code></pre>"},{"location":"web-interface/#api-endpoints","title":"API Endpoints","text":""},{"location":"web-interface/#rest-api","title":"REST API","text":"Endpoint Method Description <code>/</code> GET Dashboard HTML <code>/api/detections</code> GET Recent detections JSON <code>/api/export/csv</code> GET Export as CSV <code>/api/export/kml</code> GET Export as KML"},{"location":"web-interface/#websocket","title":"WebSocket","text":"<p>Real-time updates via WebSocket at <code>/ws</code>:</p> <pre><code>const ws = new WebSocket('ws://localhost:5000/ws');\nws.onmessage = (event) =&gt; {\n  const detection = JSON.parse(event.data);\n  console.log('New detection:', detection);\n};\n</code></pre>"},{"location":"web-interface/#troubleshooting","title":"Troubleshooting","text":""},{"location":"web-interface/#server-wont-start","title":"Server Won't Start","text":"Error Solution Port in use Change PORT in config or kill existing process Module not found Ensure virtual environment is activated Serial error Check device is connected and not in use by another program"},{"location":"web-interface/#no-detections-showing","title":"No Detections Showing","text":"<ol> <li>Verify device is flashing firmware correctly</li> <li>Check serial monitor for output</li> <li>Ensure USB cable is data-capable</li> </ol>"},{"location":"web-interface/#websocket-disconnects","title":"WebSocket Disconnects","text":"<ul> <li>Check browser console for errors</li> <li>Verify firewall allows WebSocket connections</li> <li>Try refreshing the page</li> </ul>"},{"location":"web-interface/#running-in-production","title":"Running in Production","text":"<p>For persistent deployment:</p>"},{"location":"web-interface/#using-systemd-linux","title":"Using systemd (Linux)","text":"<pre><code>[Unit]\nDescription=Flock You Web Server\nAfter=network.target\n\n[Service]\nUser=pi\nWorkingDirectory=/home/pi/flock-you/api\nExecStart=/home/pi/flock-you/api/venv/bin/python flockyou.py\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"web-interface/#using-screen","title":"Using Screen","text":"<pre><code>screen -S flockyou\npython flockyou.py\n# Press Ctrl+A, D to detach\n</code></pre>"},{"location":"web-interface/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about detection types supported</li> <li>Understand the data export formats</li> <li>Explore the architecture of the system</li> </ul>"}]}